@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    html {
        @apply antialiased;
    }

    body {
        @apply bg-gray-50 text-gray-900 dark:bg-gray-900 dark:text-gray-100;
        @apply min-h-screen;
    }

    h1, h2, h3, h4, h5, h6 {
        @apply font-semibold leading-tight;
    }

    h1 {
        @apply text-3xl sm:text-4xl;
    }

    h2 {
        @apply text-2xl sm:text-3xl;
    }

    h3 {
        @apply text-xl sm:text-2xl;
    }

    p {
        @apply leading-relaxed;
    }

    /* Fix select styling for Safari to match Chrome */
    select {
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;
        /* Light theme arrow - dark gray color */
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23374151' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-position: right 0.75rem center;
        background-size: 1em 1em;
        padding-right: 2.5rem;
    }

    /* Dark theme arrow - light gray color */
    /* Support for system preference */
    @media (prefers-color-scheme: dark) {
        select {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23E5E7EB' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
        }
    }

    /* Dark theme for Tailwind dark mode - class on html element */
    html.dark select,
    .dark select {
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23E5E7EB' d='M6 9L1 4h10z'/%3E%3C/svg%3E") !important;
    }

    /* Ensure consistent styling across browsers */
    select::-ms-expand {
        display: none; /* Remove default arrow in IE/Edge */
    }

    select:focus {
        outline: none;
    }
}

@layer components {
    .btn {
        @apply px-4 py-2 rounded-lg font-medium transition-all duration-200;
        @apply focus:outline-none focus:ring-2 focus:ring-offset-2;
    }

    .btn-primary {
        @apply bg-primary-600 text-white hover:bg-primary-700;
        @apply focus:ring-primary-500;
    }

    .btn-secondary {
        @apply bg-secondary-600 text-white hover:bg-secondary-700;
        @apply focus:ring-secondary-500;
    }

    .btn-accent {
        @apply bg-accent-500 text-white hover:bg-accent-600;
        @apply focus:ring-accent-400;
    }

    .btn-outline {
        @apply border border-gray-300 bg-transparent hover:bg-gray-100;
        @apply dark:border-gray-700 dark:hover:bg-gray-800;
        @apply focus:ring-gray-400;
    }

    .card {
        @apply bg-white rounded-xl shadow-sm p-6;
        @apply dark:bg-gray-800 dark:border dark:border-gray-700;
        @apply transition-all duration-200;
    }

    .input {
        @apply w-full px-4 py-2 rounded-lg border border-gray-300;
        @apply focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent;
        @apply dark:bg-gray-800 dark:border-gray-700 dark:focus:ring-primary-600;
    }

    .page-transition {
        @apply animate-fade-in;
    }
}

@layer base {
    body {
        background: linear-gradient(180deg, #F2F5FB 0%, #FFFFFF 100%);
        background-attachment: fixed;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica', 'Arial', sans-serif;
    }
}

@layer utilities {
    .royal-blue-glow {
        box-shadow: 0 0 200px rgba(37, 97, 229, 0.20);
    }

    .card-glow {
        box-shadow: 0px 10px 28px rgba(37, 97, 229, 0.10);
    }

    .hover-lift {
        transition: all 420ms ease-out;
    }

    .hover-lift:hover {
        transform: translateY(-4px);
        box-shadow: 0px 16px 40px rgba(37, 97, 229, 0.16);
    }

    .fade-in {
        animation: fadeInUp 420ms ease-out;
    }

    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(12px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .ai-pulse {
        animation: pulse 2s ease-in-out infinite;
    }

    @keyframes pulse {
        0%, 100% {
            opacity: 1;
        }
        50% {
            opacity: 0.6;
        }
    }

    .typing-dots::after {
        content: '';
        animation: typingDots 1.5s infinite;
    }

    @keyframes typingDots {
        0% { content: ''; }
        25% { content: '.'; }
        50% { content: '..'; }
        75% { content: '...'; }
        100% { content: ''; }
    }
}